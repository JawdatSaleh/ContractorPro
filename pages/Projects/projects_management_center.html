<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ูุฑูุฒ ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน - ContractorPro</title>
    <link rel="stylesheet" href="../../css/main.css" />
    <link rel="stylesheet" href="assets/projects.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet" />
</head>
<body class="font-arabic text-text-primary" data-page="project-management">
    <div class="min-h-screen flex bg-[color:var(--projects-background)]" data-projects-root>
        <aside class="hidden lg:flex lg:w-72 bg-surface border-l border-border flex-col">
            <div class="p-6 border-b border-border">
                <div class="flex items-center gap-3">
                    <span class="w-12 h-12 rounded-xl bg-primary flex items-center justify-center text-white text-xl"><i class="fas fa-hard-hat"></i></span>
                    <div>
                        <h1 class="text-xl font-bold text-text-primary">ContractorPro</h1>
                        <p class="text-sm text-text-secondary">ูุธุงู ุฅุฏุงุฑุฉ ุงูููุงููุงุช ุงููุชูุงูู</p>
                    </div>
                </div>
            </div>
            <nav class="flex-1 overflow-y-auto p-5 space-y-2 text-text-secondary">
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-secondary-100 transition" href="../main_dashboard.html">
                    <i class="fas fa-gauge"></i>
                    <span>ููุญุฉ ุงูุชุญูู</span>
                </a>
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl bg-primary text-white shadow-lg" href="projects_management_center.html">
                    <i class="fas fa-building"></i>
                    <span>ุงููุดุงุฑูุน</span>
                </a>
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-secondary-100 transition" href="../financial_management_center.html">
                    <i class="fas fa-chart-line"></i>
                    <span>ุงููุฑูุฒ ุงููุงูู</span>
                </a>
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-secondary-100 transition" href="../human_resources_center.html">
                    <i class="fas fa-users"></i>
                    <span>ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</span>
                </a>
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-secondary-100 transition" href="../settings.html">
                    <i class="fas fa-gear"></i>
                    <span>ุงูุฅุนุฏุงุฏุงุช</span>
                </a>
            </nav>
            <div class="p-6 border-t border-border space-y-3">
                <div class="text-sm text-text-secondary">ุชู ุขุฎุฑ ุชุญุฏูุซ ููุจูุงูุงุช ูู</div>
                <div class="px-4 py-3 rounded-xl bg-secondary-100 text-secondary-900 flex items-center justify-between">
                    <div>
                        <p class="font-semibold" data-sidebar-date>โ</p>
                        <p class="text-xs text-secondary-700">ุชูุงุบู ุงูุฃุฑูุงู ูุงูุจูุงูุงุช</p>
                    </div>
                    <i class="fas fa-rotate"></i>
                </div>
            </div>
        </aside>

        <main class="flex-1">
            <header class="bg-surface/80 backdrop-blur border-b border-border sticky top-0 z-40">
                <div class="projects-shell py-6">
                    <div class="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between">
                        <div class="space-y-2">
                            <div class="inline-flex items-center gap-3 px-4 py-2 bg-primary-50 text-primary rounded-full text-sm font-semibold">
                                <i class="fas fa-sparkles"></i>
                                ุชุฌุฑุจุฉ ุฅุฏุงุฑุฉ ูุดุงุฑูุน ุฌุฏูุฏุฉ ููุชุทูุฑุฉ
                            </div>
                            <h1 class="text-3xl lg:text-4xl font-bold tracking-tight">ูุฑูุฒ ุฅุฏุงุฑุฉ ุงููุดุงุฑูุน</h1>
                            <p class="text-text-secondary max-w-3xl">ููุตุฉ ููุญุฏุฉ ุชุฑุจุท ุจูู ุงููุนูููุงุช ูุงููุฑุงุญู ูุงููุงููุฉ ูุงูุชูุงุฑูุฑ ุงูููููุฉ ููู ูุดุฑูุน ุจุดูู ูุชูุงูู ูุนูุณ ุฃุฏุงุก ูุฑูู ุนูู ุฃุฑุถ ุงููุงูุน.</p>
                        </div>
                        <div class="projects-card shadow-lg border border-border/60 max-w-md">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h2 class="projects-card__title text-lg"><span>๐</span> ุงููุคุดุฑุงุช ุงูููุฑูุฉ</h2>
                                    <p class="text-sm text-text-secondary">ุชุญุฏูุซุงุช ุญูุฉ ูุน ูู ุชุบููุฑ ูู ุงูุจูุงูุงุช</p>
                                </div>
                                <div class="projects-progress" style="width:120px;">
                                    <div class="projects-progress__value" data-project-progress aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
                                </div>
                            </div>
                            <div class="projects-card__body text-sm" data-project-overview>
                                <div class="flex items-center gap-3">
                                    <span class="projects-status" data-project-status data-variant="info">ูุดุท</span>
                                    <span data-project-client class="text-text-secondary">โ</span>
                                </div>
                                <div class="text-text-secondary" data-project-dates>โ</div>
                            </div>
                        </div>
                    </div>

                    <div class="projects-card">
                        <div class="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between">
                            <div class="flex flex-col gap-2">
                                <div class="projects-card__title text-lg"><span>๐งพ</span> ุงุฎุชูุงุฑ ุงููุดุฑูุน</div>
                                <p class="text-sm text-text-secondary">ูู ุจุชุญุฏูุฏ ูุดุฑูุน ูุนุฑุถ ุจูุงูุงุชู ุงูุชูุตูููุฉ ููุชุงุจุนุชู.</p>
                            </div>
                            <div class="flex flex-col gap-3 lg:flex-row lg:items-center">
                                <label class="projects-input-group min-w-[260px]">
                                    <span class="text-sm text-text-secondary">ุงููุดุฑูุน ุงูุญุงูู</span>
                                    <select class="projects-input" data-project-selector></select>
                                </label>
                                <button type="button" class="projects-button projects-button--primary" data-action="open-wizard">
                                    <i class="fas fa-plus"></i>
                                    ูุดุฑูุน ุฌุฏูุฏ
                                </button>
                                <button type="button" class="projects-button" data-action="refresh-data">
                                    <i class="fas fa-rotate"></i>
                                    ุชุญุฏูุซ ุงูุจูุงูุงุช
                                </button>
                            </div>
                        </div>
                        <div class="projects-card__meta">
                            <span class="projects-card__meta-item"><i class="fas fa-user-tie"></i> <span data-project-title>โ</span></span>
                            <span class="projects-card__meta-item"><i class="fas fa-circle-nodes"></i> ุงูุจูุงูุงุช ูุชุฑุงุจุทุฉ ุจูู ุงููุฑุงุญู ูุงููุตุงุฑูู ูุงูุชูุงุฑูุฑ</span>
                        </div>
                    </div>

                    <div class="projects-grid projects-grid--three">
                        <button type="button" class="projects-card text-start" data-action="edit-info">
                            <div class="projects-card__title"><span>๐งพ</span> ุงููุนูููุงุช</div>
                            <p class="text-sm text-text-secondary">ุชุนุฏูู ุจูุงูุงุช ุงููุดุฑูุน ุงูุฃุณุงุณูุฉ ูุฅุฏุงุฑุฉ ุงููุฑูู ุงููุณุคูู ุนูู.</p>
                            <span class="projects-card__badge projects-status" data-variant="info">ุณุฌู ูุงูู</span>
                        </button>
                        <button type="button" class="projects-card text-start" data-action="add-phase">
                            <div class="projects-card__title"><span>๐งฑ</span> ูุฑุงุญู ุงููุดุฑูุน</div>
                            <p class="text-sm text-text-secondary">ุฅุถุงูุฉ ูุฑุงุญู ุฌุฏูุฏุฉ ูุชุญุฏูุซ ูุณุจุฉ ุงูุฅูุฌุงุฒ ูุน ุงูุญูุงุธ ุนูู ุงูุชุณูุณู ุงูุฒููู.</p>
                        </button>
                        <div class="projects-card text-start space-y-4">
                            <div class="projects-card__title"><span>๐</span> ุงูุชูุฏู ุงูุนุงู</div>
                            <p class="text-sm text-text-secondary">ููุงุณ ูุชูุงูู ูุนุชูุฏ ุนูู ุงููุฑุงุญู ูุงููุตุงุฑูู ูุงูุฏูุนุงุช ุงููุณุฌูุฉ.</p>
                            <div class="projects-progress" style="height:14px;">
                                <div class="projects-progress__value" data-project-progress style="width:0%" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <section class="projects-shell">
                <div class="projects-grid projects-grid--two">
                    <article class="projects-card">
                        <header class="projects-card__title"><span>๐งพ</span> ูุธุฑุฉ ุนุงูุฉ</header>
                        <div data-project-info></div>
                    </article>
                    <article class="projects-card">
                        <header class="projects-card__title"><span>๐ฌ</span> ุชูุงุตู ุงููุฑูู</header>
                        <div class="projects-card__body text-sm text-text-secondary">
                            <p>ูุชู ูุฒุงููุฉ ุงูุชุญุฏูุซุงุช ูุน ุฌููุน ุฃูุณุงู ุงููุดุฑูุน ูุถูุงู ูุถูุญ ุงูุฑุคูุฉ ุฃูุงู ุงูุฅุฏุงุฑุฉ ูุงููุฑูู.</p>
                            <ul class="projects-card__meta" data-team-list>
                                <li class="projects-card__meta-item"><i class="fas fa-lightbulb"></i> ูู ุจุฏุนูุฉ ุฃุนุถุงุก ุฌุฏุฏ ูู ูุฑูุฒ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</li>
                                <li class="projects-card__meta-item"><i class="fas fa-paper-plane"></i> ุดุงุฑู ุชูุงุฑูุฑ ุงูุชูุฏู ุนุจุฑ ุงูุจุฑูุฏ ูุจุงุดุฑุฉู</li>
                            </ul>
                        </div>
                    </article>
                </div>

                <article class="projects-card">
                    <header class="flex items-center justify-between">
                        <div class="projects-card__title"><span>๐งฑ</span> ูุฑุงุญู ุงููุดุฑูุน</div>
                        <button type="button" class="projects-button" data-action="add-phase"><i class="fas fa-plus"></i> ุฅุถุงูุฉ ูุฑุญูุฉ</button>
                    </header>
                    <div class="projects-timeline" data-project-phases></div>
                </article>

                <article class="projects-card">
                    <header class="flex items-center justify-between">
                        <div class="projects-card__title"><span>๐ฐ</span> ุงููุตุงุฑูู ูุงูุนููุฏ</div>
                        <button type="button" class="projects-button" data-action="add-expense"><i class="fas fa-file-invoice-dollar"></i> ุชุณุฌูู ูุตุฑูู</button>
                    </header>
                    <div data-project-expenses></div>
                </article>

                <article class="projects-card">
                    <header class="flex items-center justify-between">
                        <div class="projects-card__title"><span>๐ณ</span> ุฏูุนุงุช ุงููุดุฑูุน</div>
                        <button type="button" class="projects-button" data-action="add-payment"><i class="fas fa-credit-card"></i> ุฅุถุงูุฉ ุฏูุนุฉ</button>
                    </header>
                    <div data-project-payments></div>
                </article>

                <article class="projects-card">
                    <header class="flex items-center justify-between">
                        <div class="projects-card__title"><span>๐</span> ุงูุชูุงุฑูุฑ ุงูููููุฉ</div>
                        <button type="button" class="projects-button" data-action="add-report"><i class="fas fa-calendar-plus"></i> ุชูุฑูุฑ ุฌุฏูุฏ</button>
                    </header>
                    <div class="projects-timeline" data-project-reports></div>
                </article>
            </section>
        </main>
    </div>

    <dialog id="projectInfoModal" class="projects-modal">
        <form method="dialog">
            <div class="projects-modal__header">
                <h2 class="projects-card__title"><span>๐งพ</span> ุชุญุฏูุซ ูุนูููุงุช ุงููุดุฑูุน</h2>
            </div>
            <div class="projects-modal__body">
                <div class="projects-form-grid projects-form-grid--two">
                    <label class="projects-input-group">
                        <span>ุงุณู ุงููุดุฑูุน</span>
                        <input type="text" name="name" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูุนููู</span>
                        <input type="text" name="client" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ูุฏูุฑ ุงููุดุฑูุน</span>
                        <input type="text" name="manager" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุญุงูุฉ ุงููุดุฑูุน</span>
                        <select name="status">
                            <option value="planning">ููุฏ ุงูุชุฎุทูุท</option>
                            <option value="active">ููุฏ ุงูุชูููุฐ</option>
                            <option value="completed">ููุชูู</option>
                        </select>
                    </label>
                    <label class="projects-input-group">
                        <span>ุงููุทุงุน</span>
                        <input type="text" name="sector" placeholder="ุณูููุ ุชุฌุงุฑูุ ุจููุฉ ุชุญุชูุฉ..." />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงููููุน</span>
                        <input type="text" name="location" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุจุฏุก</span>
                        <input type="date" name="startDate" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุชุณููู ุงููุชููุน</span>
                        <input type="date" name="endDate" />
                    </label>
                    <label class="projects-input-group">
                        <span>ูููุฉ ุงูุนูุฏ</span>
                        <input type="number" min="0" step="1000" name="contractValue" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูุนููุฉ</span>
                        <select name="currency">
                            <option value="SAR">ุฑูุงู ุณุนูุฏู</option>
                            <option value="AED">ุฏุฑูู ุฅูุงุฑุงุชู</option>
                            <option value="USD">ุฏููุงุฑ ุฃูุฑููู</option>
                        </select>
                    </label>
                    <label class="projects-input-group projects-form-grid col-span-full">
                        <span>ุงููุฑูู ุงููุฑุชุจุท ุจุงููุดุฑูุน (ุฃุณูุงุก ููุตููุฉ ุจูุงุตูุฉ)</span>
                        <input type="text" name="team" placeholder="ูุซุงู: ู. ุฃุญูุฏุ ู. ุณุงุฑุฉ" />
                    </label>
                    <label class="projects-input-group col-span-full">
                        <span>ุงููุตู ุงูุชูุตููู</span>
                        <textarea name="description" placeholder="ููุฎุต ุงููุดุฑูุน ูุงูุฃูุฏุงู ุงูุฑุฆูุณูุฉ"></textarea>
                    </label>
                </div>
            </div>
            <div class="projects-modal__actions">
                <button type="button" class="projects-button projects-button--ghost" onclick="this.closest('dialog').close()">ุฅูุบุงุก</button>
                <button type="submit" class="projects-button projects-button--primary">ุญูุธ ุงูุชุบููุฑุงุช</button>
            </div>
        </form>
    </dialog>

    <dialog id="projectPhaseModal" class="projects-modal">
        <form method="dialog">
            <div class="projects-modal__header">
                <h2 class="projects-card__title"><span>๐งฑ</span> ุฅุถุงูุฉ ูุฑุญูุฉ ุฌุฏูุฏุฉ</h2>
            </div>
            <div class="projects-modal__body">
                <div class="projects-form-grid projects-form-grid--two">
                    <label class="projects-input-group">
                        <span>ุงุณู ุงููุฑุญูุฉ</span>
                        <input type="text" name="name" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ูุณุจุฉ ุงูุชูุฏู</span>
                        <input type="number" name="progress" min="0" max="100" value="0" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูุญุงูุฉ</span>
                        <select name="status">
                            <option value="planned">ูุฎุทุท</option>
                            <option value="active">ููุฏ ุงูุชูููุฐ</option>
                            <option value="completed">ููุชูู</option>
                        </select>
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุจุฏุงูุฉ</span>
                        <input type="date" name="startDate" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูููุงูุฉ</span>
                        <input type="date" name="endDate" />
                    </label>
                    <label class="projects-input-group col-span-full">
                        <span>ููุงุญุธุงุช</span>
                        <textarea name="notes" placeholder="ุชูุงุตูู ุฅุถุงููุฉ ุญูู ุงููุฑุญูุฉ"></textarea>
                    </label>
                </div>
            </div>
            <div class="projects-modal__actions">
                <button type="button" class="projects-button projects-button--ghost" onclick="this.closest('dialog').close()">ุฅูุบุงุก</button>
                <button type="submit" class="projects-button projects-button--primary">ุฅุถุงูุฉ</button>
            </div>
        </form>
    </dialog>

    <dialog id="projectExpenseModal" class="projects-modal">
        <form method="dialog">
            <div class="projects-modal__header">
                <h2 class="projects-card__title"><span>๐ฐ</span> ุชุณุฌูู ูุตุฑูู</h2>
            </div>
            <div class="projects-modal__body">
                <div class="projects-form-grid projects-form-grid--two">
                    <label class="projects-input-group">
                        <span>ูุฆุฉ ุงููุตุฑูู</span>
                        <input type="text" name="category" placeholder="ููุงุฏุ ูุนุฏุงุชุ ุฃุฌูุฑ..." required />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงููุจูุบ</span>
                        <input type="number" name="amount" min="0" step="100" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูููุฑุฏ / ุงูุฌูุฉ</span>
                        <input type="text" name="vendor" />
                    </label>
                    <label class="projects-input-group">
                        <span>ูุฑุฌุน ุงูุนูุฏ</span>
                        <input type="text" name="contractRef" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุตุฑู</span>
                        <input type="date" name="date" />
                    </label>
                    <label class="projects-input-group col-span-full">
                        <span>ููุงุญุธุงุช</span>
                        <textarea name="notes" placeholder="ุชูุงุตูู ุฅุถุงููุฉ"></textarea>
                    </label>
                </div>
            </div>
            <div class="projects-modal__actions">
                <button type="button" class="projects-button projects-button--ghost" onclick="this.closest('dialog').close()">ุฅูุบุงุก</button>
                <button type="submit" class="projects-button projects-button--primary">ุญูุธ</button>
            </div>
        </form>
    </dialog>

    <dialog id="projectPaymentModal" class="projects-modal">
        <form method="dialog">
            <div class="projects-modal__header">
                <h2 class="projects-card__title"><span>๐ณ</span> ุฅุถุงูุฉ ุฏูุนุฉ</h2>
            </div>
            <div class="projects-modal__body">
                <div class="projects-form-grid projects-form-grid--two">
                    <label class="projects-input-group">
                        <span>ุงุณู ุงูุฏูุนุฉ</span>
                        <input type="text" name="title" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ูููุฉ ุงูุฏูุนุฉ</span>
                        <input type="number" name="amount" min="0" step="100" required />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุงุณุชุญูุงู</span>
                        <input type="date" name="dueDate" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุณุฏุงุฏ (ุฅู ูุฌุฏ)</span>
                        <input type="date" name="paidDate" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุทุฑููุฉ ุงูุฏูุน</span>
                        <select name="method">
                            <option value="bank-transfer">ุชุญููู ุจููู</option>
                            <option value="cash">ููุฏู</option>
                            <option value="check">ุดูู</option>
                        </select>
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูุญุงูุฉ</span>
                        <select name="status">
                            <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
                            <option value="paid">ูุฏููุน</option>
                            <option value="overdue">ูุชุฃุฎุฑ</option>
                        </select>
                    </label>
                    <label class="projects-input-group col-span-full">
                        <span>ููุงุญุธุงุช</span>
                        <textarea name="notes"></textarea>
                    </label>
                </div>
            </div>
            <div class="projects-modal__actions">
                <button type="button" class="projects-button projects-button--ghost" onclick="this.closest('dialog').close()">ุฅูุบุงุก</button>
                <button type="submit" class="projects-button projects-button--primary">ุญูุธ</button>
            </div>
        </form>
    </dialog>

    <dialog id="projectReportModal" class="projects-modal">
        <form method="dialog">
            <div class="projects-modal__header">
                <h2 class="projects-card__title"><span>๐</span> ุฅุถุงูุฉ ุชูุฑูุฑ ูููู</h2>
            </div>
            <div class="projects-modal__body">
                <div class="projects-form-grid">
                    <label class="projects-input-group">
                        <span>ุชุงุฑูุฎ ุงูุชูุฑูุฑ</span>
                        <input type="date" name="date" />
                    </label>
                    <label class="projects-input-group">
                        <span>ููุฎุต ุงูุฅูุฌุงุฒ</span>
                        <textarea name="summary" required></textarea>
                    </label>
                    <label class="projects-input-group">
                        <span>ูุณุจุฉ ุงูุชูุฏู</span>
                        <input type="number" name="progress" min="0" max="100" value="5" />
                    </label>
                    <label class="projects-input-group">
                        <span>ุงูุชุญุฏูุงุช ูุงููุนููุงุช</span>
                        <textarea name="blockers"></textarea>
                    </label>
                    <label class="projects-input-group">
                        <span>ุฎุทุฉ ุงูููู ุงูุชุงูู</span>
                        <textarea name="nextSteps"></textarea>
                    </label>
                </div>
            </div>
            <div class="projects-modal__actions">
                <button type="button" class="projects-button projects-button--ghost" onclick="this.closest('dialog').close()">ุฅูุบุงุก</button>
                <button type="submit" class="projects-button projects-button--primary">ุฅุถุงูุฉ ุงูุชูุฑูุฑ</button>
            </div>
        </form>
    </dialog>

    <script defer src="assets/projects.js"></script>
</body>
</html>
